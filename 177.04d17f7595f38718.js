"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[177],{5177:(_,c,o)=>{o.r(c),o.d(c,{PaymentComponent:()=>g});var l=o(6814),n=o(95),t=o(4769),p=o(1120),i=o(6286);let g=(()=>{class e{constructor(r,a){this._ActivatedRoute=r,this._CartService=a,this.paymentForm=new n.cw({details:new n.NI(null,n.kI.required),phone:new n.NI(null,n.kI.required),city:new n.NI(null,n.kI.required)})}submitForm(){console.log(this.paymentForm.value),this._CartService.checkOut(this.cartId,this.paymentForm.value).subscribe({next:r=>{"success"==r.status&&window.open(r.session.url,"_self")},error:r=>{console.log(r)}})}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:r=>{this.cartId=r.get("id")}})}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(p.gz),t.Y36(i.N))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-payment"]],standalone:!0,features:[t.jDz],decls:13,vars:2,consts:[[1,"form","container",3,"formGroup","ngSubmit"],[1,"title"],[1,"message"],["type","text","placeholder","Address","formControlName","details",1,"input"],["type","tel","placeholder","Phone","formControlName","phone",1,"input"],["type","text","placeholder","City","formControlName","city",1,"input"],[1,"btn","btn-success",3,"disabled"]],template:function(a,u){1&a&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return u.submitForm()}),t.TgZ(1,"p",1),t._uU(2,"Payment "),t.qZA(),t.TgZ(3,"p",2),t._uU(4,"Signup now and get full access to our app. "),t.qZA(),t.TgZ(5,"label"),t._UZ(6,"input",3),t.qZA(),t.TgZ(7,"label"),t._UZ(8,"input",4),t.qZA(),t.TgZ(9,"label"),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"button",6),t._uU(12,"Pay"),t.qZA()()),2&a&&(t.Q6J("formGroup",u.paymentForm),t.xp6(11),t.Q6J("disabled",!u.paymentForm.valid))},dependencies:[l.ez,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:['.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;background-color:#fff;padding:20px;border-radius:20px;position:relative}.title[_ngcontent-%COMP%]{font-size:28px;color:#4169e1;font-weight:600;letter-spacing:-1px;position:relative;display:flex;align-items:center;padding-left:30px}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{position:absolute;content:"";height:16px;width:16px;border-radius:50%;left:0;background-color:#4169e1}.title[_ngcontent-%COMP%]:before{width:18px;height:18px;background-color:#4169e1}.title[_ngcontent-%COMP%]:after{width:18px;height:18px;animation:_ngcontent-%COMP%_pulse 1s linear infinite}.message[_ngcontent-%COMP%], .signin[_ngcontent-%COMP%]{color:#585757d2;font-size:14px}.signin[_ngcontent-%COMP%]{text-align:center}.signin[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4169e1}.signin[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{-webkit-text-decoration:underline royalblue;text-decoration:underline royalblue}.flex[_ngcontent-%COMP%]{display:flex;width:100%;gap:6px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%;padding:10px 10px 20px;outline:0;border:1px solid rgba(105,105,105,.397);border-radius:10px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:absolute;left:10px;top:15px;color:gray;font-size:.9em;cursor:text;transition:.3s ease}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:placeholder-shown + span[_ngcontent-%COMP%]{top:15px;font-size:.9em}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:valid + span[_ngcontent-%COMP%]{top:0;font-size:.7em;font-weight:600}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:valid + span[_ngcontent-%COMP%]{color:green}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.9);opacity:1}to{transform:scale(1.8);opacity:0}}']})}return e})()},6286:(_,c,o)=>{o.d(c,{N:()=>p});var l=o(5619),n=o(4769),t=o(9862);let p=(()=>{class i{constructor(e){this._HttpClient=e,this.cartCount=new l.X(0)}addToCart(e){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:e})}getCard(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/cart")}removeFromCart(e){return this._HttpClient.delete(`https://ecommerce.routemisr.com/api/v1/cart/${e}`)}updateCartCount(e,s){return this._HttpClient.put(`https://ecommerce.routemisr.com/api/v1/cart/${e}`,{count:s})}checkOut(e,s){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${e}?url=https://github.com/AbdelrahmanSaeed146/fresh-cart`,{shippingAddress:s})}static#t=this.\u0275fac=function(s){return new(s||i)(n.LFG(t.eN))};static#n=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);