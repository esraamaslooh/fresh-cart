"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[932],{6666:(b,p,a)=>{a.r(p),a.d(p,{LoginComponent:()=>x});var _=a(6814),i=a(95),c=a(1120),n=a(4769),u=a(5881);function m(t,r){1&t&&(n.TgZ(0,"p",12),n._uU(1,"email is Required"),n.qZA())}function d(t,r){1&t&&(n.TgZ(0,"p",12),n._uU(1,"Email is Invalid"),n.qZA())}function f(t,r){if(1&t&&(n.TgZ(0,"div",10),n.YNc(1,m,2,0,"p",11),n.YNc(2,d,2,0,"p",11),n.qZA()),2&t){const l=n.oxw();let e,o;n.xp6(1),n.Q6J("ngIf",null==(e=l.loginForm.get("email"))?null:e.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==(o=l.loginForm.get("email"))?null:o.hasError("email"))}}function C(t,r){1&t&&(n.TgZ(0,"p",12),n._uU(1,"password is Required"),n.qZA())}function P(t,r){1&t&&(n.TgZ(0,"p",12),n._uU(1,"Password must be at least 6 characters long"),n.qZA())}function O(t,r){if(1&t&&(n.TgZ(0,"div",10),n.YNc(1,C,2,0,"p",11),n.YNc(2,P,2,0,"p",11),n.qZA()),2&t){const l=n.oxw();let e,o;n.xp6(1),n.Q6J("ngIf",null==(e=l.loginForm.get("password"))?null:e.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(o=l.loginForm.get("password"))?null:o.getError("pattern"))}}function M(t,r){1&t&&(n.TgZ(0,"span"),n._uU(1,"Submit"),n.qZA())}function h(t,r){1&t&&n._UZ(0,"i",13)}let x=(()=>{class t{constructor(l,e){this._router=l,this._AuthService=e,this.loading=!1,this.loginForm=new i.cw({email:new i.NI(null,[i.kI.required,i.kI.email]),password:new i.NI(null,[i.kI.required,i.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)])})}submitForm(){const l=this.loginForm.value;this.loginForm.valid&&(this.loading=!0,this._AuthService.login(l).subscribe({next:e=>{localStorage.setItem("userToken",e.token),this._router.navigate(["/home"]),this._AuthService.decodeToken()},error:e=>{console.log(e.error),console.log(e),Swal.fire({toast:!1,position:"center",showConfirmButton:!0,icon:"error",showClass:{popup:"animate__animated animate__bounceInDown"},hideClass:{popup:"animate__animated animate__bounceOutDown"},title:`${e.error.message}`}),this.loading=!1}}))}static#n=this.\u0275fac=function(e){return new(e||t)(n.Y36(c.F0),n.Y36(u.e))};static#t=this.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:16,vars:6,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"title"],[1,"message"],["type","email","placeholder","Email","formControlName","email",1,"input"],["class","alert alert-danger mt-2 w-50 p-1 mb-0",4,"ngIf"],["type","password","placeholder","Password","formControlName","password",1,"input"],[1,"btn","btn-success",3,"disabled"],[4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],["routerLink","/forget",1,"mt-1"],[1,"alert","alert-danger","mt-2","w-50","p-1","mb-0"],["class","mb-0 small",4,"ngIf"],[1,"mb-0","small"],[1,"fas","fa-spinner","fa-spin"]],template:function(e,o){if(1&e&&(n.TgZ(0,"form",0),n.NdJ("ngSubmit",function(){return o.submitForm()}),n.TgZ(1,"p",1),n._uU(2,"Log In "),n.qZA(),n.TgZ(3,"p",2),n._uU(4,"Signup now and get full access to our app. "),n.qZA(),n.TgZ(5,"label"),n._UZ(6,"input",3),n.YNc(7,f,3,2,"div",4),n.qZA(),n.TgZ(8,"label"),n._UZ(9,"input",5),n.YNc(10,O,3,2,"div",4),n.qZA(),n.TgZ(11,"button",6),n.YNc(12,M,2,0,"span",7),n.YNc(13,h,1,0,"i",8),n.qZA(),n.TgZ(14,"a",9),n._uU(15,"Forget Password .... ? "),n.qZA()()),2&e){let s,g;n.Q6J("formGroup",o.loginForm),n.xp6(7),n.Q6J("ngIf",(null==(s=o.loginForm.get("email"))?null:s.errors)&&(null==(s=o.loginForm.get("email"))?null:s.touched)),n.xp6(3),n.Q6J("ngIf",(null==(g=o.loginForm.get("password"))?null:g.errors)&&(null==(g=o.loginForm.get("password"))?null:g.touched)),n.xp6(1),n.Q6J("disabled",!o.loginForm.valid),n.xp6(1),n.Q6J("ngIf",!o.loading),n.xp6(1),n.Q6J("ngIf",o.loading)}},dependencies:[_.ez,_.O5,c.rH,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:['.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;background-color:#fff;padding:20px;border-radius:20px;position:relative}.title[_ngcontent-%COMP%]{font-size:28px;color:#4169e1;font-weight:600;letter-spacing:-1px;position:relative;display:flex;align-items:center;padding-left:30px}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{position:absolute;content:"";height:16px;width:16px;border-radius:50%;left:0;background-color:#4169e1}.title[_ngcontent-%COMP%]:before{width:18px;height:18px;background-color:#4169e1}.title[_ngcontent-%COMP%]:after{width:18px;height:18px;animation:_ngcontent-%COMP%_pulse 1s linear infinite}.message[_ngcontent-%COMP%], .signin[_ngcontent-%COMP%]{color:#585757d2;font-size:14px}.signin[_ngcontent-%COMP%]{text-align:center}.signin[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4169e1}.signin[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{-webkit-text-decoration:underline royalblue;text-decoration:underline royalblue}.flex[_ngcontent-%COMP%]{display:flex;width:100%;gap:6px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%;padding:10px 10px 20px;outline:0;border:1px solid rgba(105,105,105,.397);border-radius:10px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:absolute;left:10px;top:15px;color:gray;font-size:.9em;cursor:text;transition:.3s ease}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:placeholder-shown + span[_ngcontent-%COMP%]{top:15px;font-size:.9em}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:valid + span[_ngcontent-%COMP%]{top:0;font-size:.7em;font-weight:600}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:valid + span[_ngcontent-%COMP%]{color:green}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.9);opacity:1}to{transform:scale(1.8);opacity:0}}']})}return t})()}}]);